<h1>Home Page</h1>

<div class="homeContainer">
  <div class="tableContainer">
    <p-table [value]="users">
      <ng-template pTemplate="header">
        <tr>
          <th>ID</th>
          <th>First Name</th>
          <th>Last Name</th>
          <th>Email</th>
          <th>Actions</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-user>
        <tr>
          <td>{{user.id}}</td>
          <td>{{user.first_name}}</td>
          <td>{{user.last_name}}</td>
          <td>{{user.email}}</td>
          <td class="actions"><button pButton type="button" icon="pi pi-user-edit" (click)="editToggle(user.id)" iconPos="left"
              class="p-button-raised p-button-rounded"></button>
          <button pButton type="button" icon="pi pi-trash" (click)="deleteUser(user.id)" iconPos="left"
              class="p-button-raised p-button-rounded p-button-danger"></button>
          <button (click)="showUserInfo(user)" pButton type="button" icon="pi pi-eye" iconPos="left"
            class="p-button-raised p-button-rounded p-button-outlined"></button></td>
          </tr>
      </ng-template>
    </p-table>
  
    <div class="buttons">
      <p-button label="Page 1" (click)="fetchUsers(1)"></p-button>
      <p-button label="Page 2" (click)="fetchUsers(2)"></p-button>
    </div>
  </div>

  <hr>
  
  <div class="formContainer">
    <p-card>
      <form #createdUser="ngForm" (ngSubmit)="createUser(createdUser.value, createdUser)">
        <label for="firstName">First Name</label>
        <input type="text" id="firstName" pInputText ngModel name="firstName">
        <label for="lastName">Last Name</label>
        <input type="text" id="lastName" pInputText ngModel name="lastName">
        <label for="email">Email</label>
        <input type="text" id="email" pInputText ngModel name="email" >
        <label for="avatar">Avatar</label>
        <input type="text" id="avatar" pInputText ngModel name="avatar">
        <p-button label="Create User" type="submit"></p-button>
      </form>
    </p-card>
    <p-confirmDialog header="Delete" icon="pi pi-exclamation-circle"></p-confirmDialog>

    <p-dialog [modal]="true" header="Title" [(visible)]="editModal">
      <form #editingUser="ngForm" (ngSubmit)="editUser(editingUser.value)">
        <label for="firstName">First Name</label>
        <input type="text" id="firstName" pInputText ngModel name="firstName">
        <label for="lastName">Last Name</label>
        <input type="text" id="lastName" pInputText ngModel name="lastName">
        <label for="email">Email</label>
        <input type="text" id="email" pInputText ngModel name="email" >
        <label for="avatar">Avatar</label>
        <input type="text" id="avatar" pInputText ngModel name="avatar">
        <p-button label="Edit User" type="submit"></p-button>
      </form>
  </p-dialog>

  </div>
</div>